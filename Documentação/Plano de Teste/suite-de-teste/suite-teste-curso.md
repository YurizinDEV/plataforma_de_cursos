# Plano de Teste para Model (Sprint 4) 

| Funcionalidade                  | Comportamento Esperado                                                                 | Verificações                                                        | Critérios de Aceite                                                                                 |
|---------------------------------|--------------------------------------------------------------------------------------|---------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| Cadastro de curso          | Um curso só pode ser cadastrado se possuir título e criadoPorId                     | Tentar salvar curso sem `titulo` ou `criadoPorId`                     | A operação deve falhar com erro de validação (`required`)                |
| Cadastro válido            | Um curso com título único, carga horária e criadoPorId deve ser salvo com sucesso     | Inserir um curso com todos os campos obrigatórios preenchidos        | O curso é salvo e retornado com `_id` e estatísticas                      |
| Título único               | Não deve ser possível cadastrar dois cursos com o mesmo título                        | Tentar cadastrar dois cursos com o mesmo título                     | A segunda operação deve falhar com erro de validação                                               |
| Validade da carga horária  | A carga horária total é opcional, deve ser maior ou igual a 0, com valor padrão 0  | Tentar cadastrar curso com carga horária negativa ou omitindo o campo | Se omitido, o valor padrão 0 é usado; se negativo, falha com erro de validação (`min`)          |
| Referência ao criador      | Deve haver uma referência válida ao usuário que criou o curso                         | Verificar campo `criadoPorId` no documento salvo                    | O campo `criadoPorId` deve ser um ObjectId válido referenciando um usuário                          |
| Campos opcionais           | Deve ser possível salvar curso sem os campos opcionais                               | Cadastrar curso sem campos como `descricao`, `thumbnail`, etc.       | O curso é salvo sem problemas com os campos obrigatórios                                           |
| Arrays vazios              | Ao cadastrar um curso sem informar arrays, eles devem ser inicializados vazios        | Cadastrar curso sem `materialComplementar`, `professores` e `tags`   | Os arrays são inicializados como vazios no documento salvo                                          |
| Leitura de cursos          | O sistema deve retornar todos os cursos cadastrados                                  | Fazer find() e verificar leitura dos dados inseridos                 | A resposta contém um array com os cursos cadastrados                                               |
| Atualização de curso       | Deve ser possível atualizar informações de um curso válido                           | Fazer updateOne() / findByIdAndUpdate()                             | O curso deve refletir os dados alterados                                |
| Remoção de curso           | Um curso existente pode ser removido do sistema                                     | Fazer deleteOne() / findByIdAndDelete()                             | O curso é removido e não aparece mais na listagem                                                |

# Plano de Teste Controller (Sprint 5)

| Funcionalidade              | Comportamento Esperado                                                                 | Verificações                                                        | Critérios de Aceite                                                                                 |
|----------------------------|--------------------------------------------------------------------------------------|---------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| Validação de schema        | Deve validar o schema de entrada (título, carga horária e criadoPorId obrigatórios)   | Enviar requisição com dados inválidos                               | Deve retornar erro 400 para dados inválidos                                                         |
| Título já cadastrado       | Não deve permitir cadastro com título já existente                                    | Enviar requisição com título já cadastrado                          | Deve retornar erro 400 para título já cadastrado                                                   |
| Curso não encontrado       | Deve retornar erro ao buscar, atualizar ou deletar curso inexistente                  | Buscar, atualizar ou deletar curso inexistente                      | Deve retornar erro 404 para curso não encontrado                                                   |
| Mensagens padronizadas     | Mensagens de sucesso e erro devem ser claras e padronizadas                           | Realizar operações de sucesso e erro                                | Mensagens seguem o padrão definido                                                                  |
| Dados inválidos no cadastro| Deve retornar erro 400 ao tentar cadastrar curso com dados ausentes ou inválidos      | Enviar requisição sem título, carga horária ou criadoPorId           | Deve retornar erro 400 para dados inválidos                                                         |
| Falha inesperada           | Deve retornar erro 500 para falhas inesperadas no controller                         | Simular erro inesperado em qualquer operação                        | Deve retornar erro 500 e mensagem padronizada                                                       |
| Busca com filtro inválido  | Deve retornar erro 400 ao buscar cursos com filtros inválidos                        | Buscar cursos com query inválida                                    | Deve retornar erro 400 para filtros inválidos                                                      |
| Remoção de curso inexistente | Deve retornar erro 404 ao tentar remover curso inexistente                          | Tentar deletar curso com id inexistente                             | Deve retornar erro 404 para curso não encontrado                                                  |
| Enriquecimento de dados    | Deve enriquecer os dados do curso com estatísticas                                  | Listar cursos                                                      | As respostas contêm campos calculados como `totalProfessores`, `totalTags` e `totalMaterialComplementar` |
| Update sem dados           | Deve retornar erro ao tentar atualizar um curso sem fornecer novos dados             | Enviar requisição de atualização com corpo vazio                     | Deve retornar erro 400 informando necessidade de pelo menos um campo para atualização            |

# Plano de Teste Service (Sprint 5)

| Funcionalidade              | Comportamento Esperado                                                                 | Verificações                                                        | Critérios de Aceite                                                                                 |
|----------------------------|--------------------------------------------------------------------------------------|---------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| Validação de título único  | Deve validar se título já está em uso antes de salvar ou atualizar                   | Cadastrar dois cursos com mesmo título                              | A segunda operação falha com erro de validação                                                     |
| Verificação de existência  | Deve verificar se o curso existe antes de atualizar ou deletar                        | Tentar atualizar ou deletar curso inexistente                       | Deve lançar erro 404 para curso não encontrado                                                     |
| Unicidade de título        | Não deve permitir atualização que resultaria em título duplicado                      | Tentar atualizar curso com título já utilizado                      | A operação falha com erro de validação                                                            |
| Curso inexistente          | Deve lançar erro se curso não existir ao atualizar ou deletar                         | Atualizar ou deletar curso inexistente                              | Deve retornar erro 404 para curso não encontrado                                                   |
| Erro inesperado do repository | Deve lançar erro se o repository lançar exceção em qualquer operação              | Simular erro lançado pelo repository                               | Deve lançar erro e não comprometer a integridade dos dados                                          |

# Plano de Teste Repository (Sprint 5)

| Funcionalidade              | Comportamento Esperado                                                                 | Verificações                                                        | Critérios de Aceite                                                                                 |
|----------------------------|--------------------------------------------------------------------------------------|---------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| Buscar por título          | Deve buscar curso por título corretamente                                             | Buscar curso pelo campo `titulo`                                    | Retorna o curso correto                                                                            |
| Buscar por id              | Deve buscar curso por id corretamente                                                | Buscar curso pelo campo `_id`                                       | Retorna o curso correto                                                                            |
| Aplicar filtros de busca   | Deve aplicar filtros de busca (título, tags, professores, carga horária)             | Buscar cursos com diferentes filtros                                | Retorna apenas os cursos que atendem aos filtros                                                   |
| Paginação de resultados    | Deve aplicar limite e página na listagem de cursos                                   | Listar cursos com parâmetros page e limite                          | Retorna resultados paginados conforme solicitado                                                    |
| Erro para operações inválidas| Deve retornar erro apropriado para operações inválidas                              | Buscar, atualizar ou deletar curso inexistente                      | Deve retornar erro 404 para curso não encontrado                                                   |
| Buscar por id inexistente  | Deve lançar erro ao buscar curso por id inexistente                                  | Buscar curso com id não cadastrado                                  | Deve lançar erro 404                                                                                |
| Buscar por título inexistente | Deve lançar erro ao buscar curso por título inexistente                          | Buscar curso com título não cadastrado                              | Deve lançar erro 404 para curso não encontrado                                                     |
| Remoção de curso inexistente | Deve lançar erro ao tentar remover curso inexistente                               | Tentar deletar curso com id inexistente                             | Deve lançar erro 404                                                                               |
| Erro inesperado do banco     | Deve lançar erro se o banco lançar exceção em qualquer operação                     | Simular falha do banco de dados                                     | Deve lançar erro e não comprometer a integridade dos dados                                         |
| Enriquecimento de dados     | Deve calcular e adicionar estatísticas ao curso (totalProfessores, totalTags, totalMaterialComplementar) | Chamar enriquecerCurso para um curso                             | Retorna objeto com estatísticas calculadas corretamente                                             |

# Plano de Teste ENDPOINT (Sprint 6)
